****************************Cosas a Descubrir*************************************

- Enumerate Targets
- Discover Live Hosts
- Reverse-DNS Lookup
- Scan Ports
- Detect Versions
- Detect OS
- Traceroute
- Scripts
- Write Output

***************************OSI Estructura****************************************

ARP From Link Layer
ICMP From Network Layer
TCP and UDP From Transport Layer

Application Layer *** HTTP, HTTPS, SMTP, POP3, IMAP, SSH, FTP (etc, ports and protocols)
Transport Layer *** TCP, UDP
Network Layer *** IPv4, IPv6, ICMP, IPsec
Link Layer *** ARP, Ethernet (802.3), WiFi (802.11)m DLS, BlueTooth

TCP Header Arquitecture: https://datatracker.ietf.org/doc/html/rfc793.html

********************************Funcionamiento NMAP*************************************

1    When a privileged user tries to scan targets on a local network (Ethernet), Nmap uses ARP requests. A privileged user is root or a user who belongs to sudoers and can run sudo.

2    When a privileged user tries to scan targets outside the local network, Nmap uses ICMP echo requests, TCP ACK (Acknowledge) to port 80, TCP SYN (Synchronize) to port 443, and ICMP timestamp request.

3    When an unprivileged user tries to scan targets outside the local network, Nmap resorts to a TCP 3-way handshake by sending SYN packets to ports 80 and 443.





*****************************************************************************

3) nmap -sL TARGETS *** List the hosts and their names  (If you donâ€™t want Nmap to the DNS server, you can add -n)



****************************Comandos utiles*************************************
-sn (no realiza escaneo de puertos)
-PS (Port Scan Ex:-PS80,443,8080)

***Host Alive***
nmap -PR -sn MACHINE_IP/24(Scan the MACAddress and DNS por ARP)
nmap -PE -sn MACHINE_IP/24(Scan the MACAddress and DNS with ICMP Type 8/Echo and ping reply ICMP Type/0) (ICMP is usualy blocked by the firewall)
nmap -PP -sn MACHINE_IP/24(Scan the MACAddress and DNS with ICMP Type 13/Timestamp and reply ICMP Type 14/Timestamp Reply)
nmap -PM -sn MACHINE_IP/24(Scan the MACAddress and DNS with ICMP Type 17/Address Mask and reply ICMP Type 18/Address Mask Reply)
nmap -PS -sn MACHINE_IP/24(Scan the target to see if is alive Doing TCP SIN Ping)
nmap -PA -sn MACHINE_IP/24(Scan the target to see if is alive Doing TCP ACK Ping)
nmap -PU -sn MACHINE_IP/24(Scan the target to see if is alive Doing UDP Ping and reply ICMP Type 3 or Code 3)


